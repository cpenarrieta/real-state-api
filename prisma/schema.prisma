generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model property {
  id                 Int               @default(autoincrement()) @id
  title              String?
  userId             Int               @default(autoincrement())
  createdAt          DateTime          @default(now())
  updatedAt          DateTime          @default(now())
  uuid               String            @default(dbgenerated()) @unique
  description        String?
  bedrooms           Int?
  bathrooms          Int?
  lotSize            Int?
  builtYear          Int?
  grossTaxesLastYear Int?
  openHouse          Boolean?          @default(false)
  strata             Boolean?          @default(false)
  price              Int?
  hidePrice          Boolean?          @default(false)
  fullAddress        String?
  community          String?
  address1           String?
  address2           String?
  city               String?
  province           String?
  zipCode            String?
  pictures           String[]
  floorPlans         String[]
  videos             String[]
  soldAt             DateTime?
  propertyType       property_type?
  currency           currency?
  status             property_status?  @default(ACTIVE)
  publishedStatus    published_status? @default(DRAFT)
  mainPicture        String?
  country            String?
  user               user              @relation(fields: [userId], references: [id])
}

model user {
  id            Int        @default(autoincrement()) @id
  email         String?
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @default(now())
  uuid          String     @unique
  firstName     String?
  lastName      String?
  phone         String?
  address       String?
  picture       String?
  address1      String?
  address2      String?
  city          String?
  province      String?
  zipCode       String?
  country       String?
  pictureLowRes String?
  property      property[]
}

enum currency {
  CAD
  USD
}

enum property_status {
  ACTIVE
  HOLD
  INACTIVE
  SOLD
}

enum property_type {
  CONDO
  HOUSE
  LAND
  OTHER
  TOWNHOUSE
}

enum published_status {
  DRAFT
  INACTIVE
  PUBLISHED
}
